////  TamanysViewController.m//  Expresso////  Created by Arol Viñolas Martinez on 08/12/10.//  Copyright 2010 FIB (UPC). All rights reserved.//#import "ExpressoAppDelegate.h"#import "TamanysViewController.h"#import "comandaRealitzadaViewController.h"#import "ExtresViewController.h"@implementation TamanysViewController@synthesize botoSmall;@synthesize botoGrande;@synthesize botoVenti;@synthesize labelSmall;@synthesize labelGrande;@synthesize labelVenti;@synthesize preuSmall;@synthesize preuGrande;@synthesize preuVenti;@synthesize botoExtres;@synthesize botoFerComanda;@synthesize subproducte;#pragma mark -#pragma mark IBActions-(IBAction) escollirTamany:(id)sender {	ExpressoAppDelegate *appDelegate =					(ExpressoAppDelegate*)[[UIApplication sharedApplication] delegate];		[appDelegate setTamany:[(UIButton*)sender currentTitle]];	NSLog(@"%@", [(UIButton*)sender currentTitle]);				if([[(UIButton*)sender currentTitle] isEqualToString:@"small"]){		[appDelegate setPreu:[f numberFromString:[preuSmall text]]];	}else if ([[(UIButton*)sender currentTitle] isEqualToString:@"grande"]) {		[appDelegate setPreu:[f numberFromString:[preuGrande text]]];	}else if ([[(UIButton*)sender currentTitle] isEqualToString:@"venti"]) {		[appDelegate setPreu:[f numberFromString:[preuVenti text]]];	}		NSLog(@"%@", [f stringFromNumber:[NSNumber numberWithFloat:3.5]]);	[botoSmall setAlpha:0.4];	[botoGrande setAlpha:0.4];	[botoVenti setAlpha:0.4];		[(UIButton*)sender setAlpha:1];}-(IBAction) escullExtres{	ExpressoAppDelegate *appDelegate =		(ExpressoAppDelegate*)[[UIApplication sharedApplication] delegate];	[appDelegate.navigationController presentModalViewController:extresVC animated:YES	 ];}-(IBAction) ferComanda{	ComandaRealitzadaViewController *comandaVC =			[[ComandaRealitzadaViewController alloc] 				initWithNibName:@"comandaRealitzadaViewController" bundle:nil];		ExpressoAppDelegate *appDelegate =		(ExpressoAppDelegate*)[[UIApplication sharedApplication] delegate];		if ([appDelegate tamany]==nil) {		UIAlertView *alert = [[UIAlertView alloc] initWithTitle:@"Error" 														message:@"Escull abans un tamany"													   delegate:nil 											  cancelButtonTitle:@"Acceptar" 											  otherButtonTitles: nil];		[alert show];			}else {		[appDelegate.navigationController pushViewController:comandaVC animated:YES];	}	}#pragma mark -#pragma mark ViewController lifecycle// The designated initializer.  Override if you create the controller programmatically and want to perform customization that is not appropriate for viewDidLoad.- (id)initWithNibName:(NSString *)nibNameOrNil bundle:(NSBundle *)nibBundleOrNil {    self = [super initWithNibName:nibNameOrNil bundle:nibBundleOrNil];    if (self) {        // Custom initialization.		f = [[NSNumberFormatter alloc] init];		[f setNumberStyle:NSNumberFormatterCurrencyStyle];		[f setCurrencySymbol:@"€ "];				extresVC = [[ExtresViewController alloc] initWithNibName:@"ExtresViewController" bundle:nil];    }    return self;}// Implement viewDidLoad to do additional setup after loading the view, typically from a nib.- (void)viewDidLoad {	//Posar dinamicament els tamanys	//ExpressoAppDelegate *appDelegate = (ExpressoAppDelegate*)[[UIApplication sharedApplication] delegate];		int numTamanys = [[[subproducte valueForKey:@"tamanys"] allKeys] count];	NSLog(@"%d", numTamanys);    	[botoVenti setHidden:YES];	[labelVenti setHidden:YES];	[preuVenti setHidden:YES];		[botoGrande setHidden:YES];	[labelGrande setHidden:YES];	[preuGrande setHidden:YES];		[botoSmall setHidden:YES];	[labelSmall setHidden:YES];	[preuSmall setHidden:YES];		switch (numTamanys) {		case 3:			//ficar el venti			NSLog(@"VENTI");			[botoVenti setHidden:NO];			[labelVenti setHidden:NO];			[preuVenti setHidden:NO];						[preuVenti setText:[NSString stringWithFormat:@"€ %@",								[[subproducte valueForKey:@"tamanys"] valueForKey:@"venti"]]];		case 2:			//ficar el gran			NSLog(@"GRANDE");			[botoGrande setHidden:NO];			[labelGrande setHidden:NO];			[preuGrande setHidden:NO];			[preuGrande setText:[NSString stringWithFormat:@"€ %@",								 [[subproducte valueForKey:@"tamanys"] valueForKey:@"grande"]]];					case 1:			//ficar el petit			NSLog(@"SMALL");			[botoSmall setHidden:NO];			[labelSmall setHidden:NO];			[preuSmall setHidden:NO];						[preuSmall setText:[NSString stringWithFormat:@"€ %@",								[[subproducte valueForKey:@"tamanys"] valueForKey:@"small"]]];						break;		default:			break;	}		[super viewDidLoad];}/*// Override to allow orientations other than the default portrait orientation.- (BOOL)shouldAutorotateToInterfaceOrientation:(UIInterfaceOrientation)interfaceOrientation {    // Return YES for supported orientations.    return (interfaceOrientation == UIInterfaceOrientationPortrait);}*/- (void)didReceiveMemoryWarning {    // Releases the view if it doesn't have a superview.    [super didReceiveMemoryWarning];        // Release any cached data, images, etc. that aren't in use.}- (void)viewDidUnload {    [super viewDidUnload];    // Release any retained subviews of the main view.    // e.g. self.myOutlet = nil;}- (void)dealloc {    [super dealloc];}@end