////  ComandaRealitzadaViewController.m//  Expresso////  Created by David Cortés Fulla on 08/12/10.//  Copyright 2010 Facultat d'Informatica de Barcelona (UPC). All rights reserved.//#import "ComandaRealitzadaViewController.h"@implementation ComandaRealitzadaViewController@synthesize producte;@synthesize subproducte;@synthesize extres;@synthesize preu;// The designated initializer.  Override if you create the controller programmatically and want to perform customization that is not appropriate for viewDidLoad.- (id)initWithNibName:(NSString *)nibNameOrNil bundle:(NSBundle *)nibBundleOrNil {    self = [super initWithNibName:nibNameOrNil bundle:nibBundleOrNil];    if (self) {        // Custom initialization.		f = [[NSNumberFormatter alloc] init];		[f setNumberStyle:NSNumberFormatterCurrencyStyle];		[f setCurrencySymbol:@"€ "];    }    return self;}// Implement viewDidLoad to do additional setup after loading the view, typically from a nib.- (void)viewDidLoad {    [super viewDidLoad];		appDelegate = (ExpressoAppDelegate*)[[UIApplication sharedApplication] delegate];	NSLog(@"Producte: %@", [appDelegate producte]);		producteDictionary = [[[[appDelegate carta] valueForKey:@"carta"] valueForKey:@"productes"]						  objectAtIndex:[[appDelegate producte] unsignedIntValue]];		[producte setText:[producteDictionary valueForKey:@"nom"]];		[subproducte setText:[[[producteDictionary valueForKey:@"subproductes"] 						   objectAtIndex:[[appDelegate subproducte] unsignedIntValue]] valueForKey:@"nom"]];		[extres setText:[[[appDelegate extres] allKeys] componentsJoinedByString:@", "]];			NSNumberFormatter *suma = [[NSNumberFormatter alloc] init];	[suma setNumberStyle:NSNumberFormatterDecimalStyle];	float aux = [appDelegate.preu floatValue];	for (int i=0; i<[appDelegate.extres count]; i++) {		aux += [[suma numberFromString:[[appDelegate.extres allValues] objectAtIndex:i]] floatValue];		NSLog(@"%.f", aux);	}		[preu setText:[f stringFromNumber:[NSNumber numberWithFloat:aux]]];		[suma release];}/*// Override to allow orientations other than the default portrait orientation.- (BOOL)shouldAutorotateToInterfaceOrientation:(UIInterfaceOrientation)interfaceOrientation {    // Return YES for supported orientations.    return (interfaceOrientation == UIInterfaceOrientationPortrait);}*/- (void)didReceiveMemoryWarning {    // Releases the view if it doesn't have a superview.    [super didReceiveMemoryWarning];        // Release any cached data, images, etc. that aren't in use.}- (void)viewDidUnload {    [super viewDidUnload];    // Release any retained subviews of the main view.    // e.g. self.myOutlet = nil;}- (void)dealloc {    [super dealloc];}@end